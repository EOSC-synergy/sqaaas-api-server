{
  "name": "{{ pipeline_name }}",
  "config_data": [
    {
      "config": {
        "project_repos": [
          {
            "repo": "{{ repo_code.repo }}",
            "branch": "{{ repo_code.branch }}"
          {%- if repo_docs.get('repo', {})  %}
	  },
          {
            "repo": "{{ repo_docs.repo }}",
            "branch": "{{ repo_docs.branch }}"
          }
	  {%- else %}
          }
          {%- endif %}
        ],
        "credentials": []
      },
      "sqa_criteria": {
        {%- for criterion_data in criteria_data_list %}
        "{{ criterion_data.id }}": {
          "repos": [
            {%- for tool in criterion_data.tools %}
            {
              {%- if criterion_data.id in ["QC.Doc"] and repo_docs.repo %}
              "repo_url": "{{ repo_docs.repo }}",
	          {%- else %}
              "repo_url": "{{ repo_code.repo }}",
              {%- endif %}
              "container": "",
	          "tool": {{ tool | tojson }}
            }{{"," if not loop.last}}
            {%- endfor %}
          ]
	    }{{"," if not loop.last}}
        {%- endfor %}
      },
      "environment": {},
      "timeout": 600
    }
  ],
  "composer_data": {
    "version": "3.7",
    "services": {}
  },
  "jenkinsfile_data": {}
}
